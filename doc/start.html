<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-type" content="text/html;charset=utf-8" />
    <title>Curveship-js Getting Started</title>
<link rel="StyleSheet" href="../curve.css"/>

</head>
<body>
<div style="text-align:right"><a href="../index.html#py"><img src="../small_logotype.png" alt="Curveship" style="border-style: none" /></a></div>

<div class="links">
<ul>
  <li><a href="concepts.html">Concepts</a></li>
  <li>Getting Started</li>
  <li><a href="reference.html">Technical Reference</a></li>
  <li><a href="publications.html">Thanks & Publications List</a></li>
  <li><a href="https://github.com/nickmontfort/curveship-js">GitHub</a></li>
</ul>
</div>

<div id="main">

<h1>Getting Started</h1>
<h2>in Curveship-js</h2>

<p>The first step in getting started is to read about <a href="concepts.html">Curveship-js concepts.</a> The essential concepts, and their associated terms, are referred to throughout this guide.</p>

<p>The recommended way to write a new Curveship-js story file, narrator files, and the corresponding HTML pages is by modifying existing files. In this guide, however, we’ll pretend that we’re writing a <a href="#story"><i>story</i></a> called “The Simulated Bank Robbery” from scratch, and then, we’ll pretend that we’re writing a <a href="#narrator"><i>narrator</i></a> who is casual and oblique, again from scratch. Finally, we’ll see quickly how to <a href="#connect"><i>connect</i></a> these two files with a Web page.</p>

<h2 id="story">The Story File</h2>

<p>Easy things are meant to be easy to do in Curveship-js. For instance, it should be easy to define a story that is like a folk tale, with straightforward story elements and little underlying complexity in terms of what fundamentally happens. See <a href="examples/robbery/story.js" target="_blank">robbery/story.js</a> for one reasonably simple example, with only a few special nuances; even simpler is <a href="examples/waiting/story.js" target="_blank">waiting/story.js.</a></p>

<p>To write a Curveship-js story file ending in ".js" one needs only define the title, define <b>Places, Actors, and Things,</b> specify a sequence of <b>Events,</b> and then conclude with a final, standard line.</p>

<p>Story files should begin with a comment about the title, creator, and license. If you are modifying an existing story file, be sure to modify this part to avoid confusion.</p>

<p>For clarity, put the title of your story right up top, after those comments:</p>

<pre>
  var title = "The Simulated Bank Robbery";
</pre>

<h2>Defining Existents</h2>

<p>After specifying the title, list your Places. Each time you add a line, you’re creating a new Place, and the required JavaScript syntax helps to indicate that:</p>

<pre>
place.vestibule = new Place();
place.lobby = new Place();
place.guardPost = new Place();
place.street = new Place();
</pre>

<p>These four places have four <i>tags,</i> “vestibule”, “lobby”, “guardPost”, and “street”. The tags are <i>not</i> what these places end up being called. Nothing in the story file indicates what they will be called. Tags are just the way to refer to these places within the story and narrator files. Tags need to be unique across all Existents. For instance, not only can there only be one Place with the tag “street” — once that tag has been used for a Place, it also cannot be used for an Actor or a Thing.</p>

<p>After this, list your Actors. You use the same syntax, but this time arguments are included to indicate where the Actor is and (optionally) what gender the actor is:</p>

<pre>
actor.teller = new Actor(place.vestibule, "female");
actor.robber = new Actor(place.street, "male");
actor.guard = new Actor(place.guardPost, "male");
</pre>

<p>Of the three sorts of Existents, Things come last. They are also each located somewhere. Their location can be a Place, an Actor (if an Actor is carrying them), or even another Thing (if that other Thing is a container, for instance).</p>

<pre>
thing.slip = new Thing(place.vestibule);
thing.fakeMoney = new Thing(place.vestibule);
thing.bag = new Thing(place.vestibule);
thing.mask = new Thing(actor.robber);
thing.fakeGun = new Thing(actor.robber);
thing.pistol = new Thing(actor.guard);
</pre>

<p>At the end of this sequence, we can (optionally) provide some additional information, for instance, information about Actors owning Things. This can end up having implications for the generation of possessive noun phrases, eventually:</p>

<pre>
thing.fakeGun.setOwner(actor.robber);
thing.pistol.setOwner(actor.guard);
</pre>

<h2>The Event Sequence</h2>

<p>What remains is to provide a sequence of Events, describing what <i>happens.</i> Events are given tags, just like Existents. They always have an agent (who is performing the action, the first argument). For “intransitive” actions, that’s usually all there is. But they can also have an object (what is acted upon). If they do, that's the second argument. Here’s the beginning of the Event sequence, where events 1, 3, 4, and 8 have direct objects:</p>

<pre>
ev.read = new Event(actor.teller, thing.slip);
ev.snooze = new Event(actor.guard);
ev.reread = new Event(actor.teller, thing.slip);
ev.coverFace = new Event(actor.robber, thing.mask);
ev.type = new Event(actor.teller);
ev.play = new Event(actor.teller);
ev.beginRobbing = new Event(actor.robber);
ev.wave = new Event(actor.teller, actor.robber);
</pre>

<p>If an Event also has an indirect object (something indirectly affected by the action), a temporal relationship needs to be specified as the third argument. Then the indirect object is the fourth argument, as seen in the next event:</p>

<pre>
ev.threaten = new Event(actor.robber, actor.teller, temporal.using, thing.fakeGun);
ev.laugh = new Event(actor.teller);
ev.wake = new Event(actor.guard);
ev.seeThreat = new Event(actor.guard, actor.robber);
ev.leavePost = new Event(actor.guard, place.guardPost);
ev.grabFake = new Event(actor.teller, thing.fakeMoney, temporal.into, thing.bag);
ev.turn = new Event(actor.robber, actor.guard);
ev.shoot1 = new Event(actor.guard, actor.robber);
ev.shoot2 = new Event(actor.guard, actor.robber);
ev.fall = new Event(actor.robber);
ev.die = new Event(actor.robber);
ev.dropGun = new Event(actor.guard, thing.pistol);
</pre>

<p>Events can <i>reconfigure</i> Existents. When the guard drops the gun, for instance, according to this story, he “disowns” it. It no longer belongs to him:</p>

<pre>
ev.dropGun.reconfigures(thing.pistol, "owner", actor.guard, actor.cosmos);
</pre>

<p>Here’s the rest of the Event sequence:</p>

<pre>
ev.regret = new Event(actor.guard, ev.shoot1);
ev.cry = new Event(actor.teller);
ev.stare = new Event(actor.guard, thing.pistol);
</pre>

<h2>Wrapping Up the Story File</h2>

<p>In a standard story file, the final line is:</p>

<pre>
  var world = new World(place, actor, category, thing, ev);
</pre>

<p>Categories, by the way, are an advanced, experimental, and definitely optional feature. There are none in “The Simulated Bank Robbery” and their use is not supported in this release. But formula nevertheless requires that this last line, exactly as it appears above, is included. This builds a new storyworld with all the components that have been previously defined.</p>

<h2 id="narrator">A Narrator File</h2>

<p>Once the story elements are defined in story.js, you will need at least one narrator file (ending in “.js”) in the same directory. The file should be given a descriptive name, for instance “precise.js” when it defines a precise narrator and “vague.js” when it defines one who speaks generally and vaguely. This file specifies how the narrative discourse or expression is to be generated. This includes defining the way each Existent is named (what particular words are used to indicate it) as well as higher-level aspects of narration. A story file may have many narrator files. In fact, it’s the whole point of Curveship-js to show how the same underlying can be told in different ways. </p>

<p>Take a look at the HTML files in the <a href="../examples">example</a> folders and note how different narrations can result from a single story file. Other narrative examples you can find are surprised.js, prim.js, fabular.js.</p>

<!-- TODO: Point to specific examples where there are two or more narrators for the same story. -->

<p>Like story files, narrator files begins with a comment about the title, creator, and license. If you are modifying an existing narrator file, be sure to modify this part to avoid confusion.</p>

<p>Then, give your narrator a name or short description. Who the story is “told by” will appear in a byline under the title in the generated narrative.</p>

<pre>var toldBy = "a casual storyteller";</pre>

<h2 id="names">Names for Existents</h2>

<p>The next section of the narrator file sets any optional <a href="reference.html#spin">spin parameters (detailed in the Technical Reference).</a> These parameters allow a narrator to “spin” the overall narrative in different ways, somewhat like a journalist might put a particular “spin” on a news story. The particular parameters are based in narrative theory.</p>

<!-- TODO: We need spin parameters here as an example. -->

<p>Next, the <b>Names</b> corresponding to the existents are declared. These names mutch match the tags for Existents that are declared in the story file—that’s how Curveship-js knows to connect an Existent with Names. The convention is to order the Names the same way that they appear in the story file, so the Names for Places will be first, then for Actors, and lastly, for Things.</p>

<p>As you can see in casual.js and other examples, “Names” is written in the plural. That’s because, in general, there can be many names used by a narrator for a single Existent.</p>

<p>The simplest way to name an Existent is to provide Names with one string, including an article and a noun (or noun phrase). The first time the Existent appears in the narration, that exact name will be used. After that, if the name begins with an indefinite article such as “a” or “an,” the system will use the definite article, “the.”</p>

<pre>
names.lobby = new Names("the lobby");
</pre>

<p>If you provide two strings as arguments to Names, the first one will be used on first reference and the second one (exactly as it is specified) will be used on any subsequent references.</p>

<pre>
names.street = new Names("a sidewalk outside a bank", "the sidewalk");
</pre>

<!-- FIXME: This paragraph is not correct, it confuses Names and ProperNames. <p>More sophisticated naming, such as common or general names can be specified by adding a second argument. The first name is used the first time that existent is introduced. The second argument is the generic name to be used thereafter in the telling.</p> -->

<p>One can specify proper names or gender pronouns using <b>ProperNames</b>. ProperNames arguments consist of the First, then the Last name, followed by the gender pronoun, the common name, then an honorific title.</p>

<!-- FIXME: Don't mix examples. This file needs to go through every line of robbery/story.js and every line of casual.js. -->

<!-- <pre>
names.louise = new ProperNames("Louise", "Mallard", pronoun.feminine, "the wife", "Mrs.");
</pre>

<p>In the above line, the Existent <b>louise</b> is referred to with the first and last name of "Louise Mallard" when she is introduced. Afterward, she is referred to by the feminine pronoun "she" or informally as "the wife."  However, the narrator can also use an honorific reference for this <b>Actor</b>, e.g. "Mrs. Mallard." See the example story and narration files in the <a href="../examples/hour/">Story of an Hour</a> where the narrator refers to Louise by different names.</p> -->

<p>Note that there are experimental features of Curveship to allow the naming of Existents according to Categories, based on what Existents are parts of, and based on the properties Existents have. You are welcome to try them and to let us know what isn’t working about them. They are not supported in this 0.4 release, however.</p>

<h2 id="vps">Verb Phrases</h2>

<p>Just a narrator has idiosyncratic ways of naming each Existent, that narrator also has a particular way of representing each Event. This is done using a VerbPh for each Event. The tag assigned each VerbPh must correspond to the Event tags from the story file. </p>

<!-- FIXME: This file isn't about what may be listed, it needs to go through casual.js line by line. <p>For a casual narrator, the following VPs may be listed.</p> -->

<pre>
vp.eat = new VerbPh("eat");
vp.request = new VerbPh("ask");
</pre>

<p>A VerbPh can contain prepositions, and so could be defined as "talk with" or "pick up". It can also include an infinitive after the main verb, as in "decide to tell." However, a VerbPh is not a full verb phrase in the linguistic sense. It doesn’t contain any direct or indirect objects. Nor does it hold adverbs indicating the manner in which an action is done.</p>

<!-- FIXME: Adverbs aren't supported, and we must use real examples. <p>In contrast, an exaggerating narrator uses more dramatic wording:</p>

<pre>
vp.eat = new VerbPh("devour ravenously");
vp.request = new VerbPh("implore desperately");
</pre> -->

<p>Finally, the file always ends with a standard incantation, invoking the <b>run</b> function so that Curveship can realize the narration. The narrator file must end with the following line:</p>

<pre>
function run() { narrate(title, toldBy, world, spin, names, vp); }
</pre>

<p>With a story file and one initial narrator file defined, you are ready to view the output. In the next section, you'll tell Curveship how to link up the story and narrator files.
</p>


<h2 id="connecting">Connecting Story and Narrator with a Web Page</h2>

<!-- FIXME: This is too complex, we should just explain what someone needs to do to get started. That’s only one thing: change “casual.js” to whatever your particular narrator is, e.g., “precise.jd” -->

<p>Curveship realizes a narrative, in HTML, using the story file and a narrator file.</p>

<p>Create a .html file that matches the descriptive filename of the narrator file created above. For example, if the narrator file is named "casual.js" then the HTML file should be named "casual.html". If you would like your story to be styled in the same way that the examples are, include a link to the stylesheet "curve.css" in the main curveship directory.</p>

<pre>
&lt;link rel="StyleSheet" href="../curve.css"/&gt;
</pre>
<p>The next lines include the Curveship source files. These lines must appear exactly as shown.</p>
<pre>
&lt;script src="../../curveship.js"&lt;/script&gt;
&lt;script src="../../noun.js"&gt;&lt;script&gt;
&lt;script src="../../verb.js"&gt;&lt;script&gt;
</pre>

Then, link the source files for the narration. First, include the story content file. Then, add the corresponding narrator to the HTML file. So, if you are creating a casual narrator (casual.html), the final lines in the header should look like this:
<pre>
&lt;script src="story.js"&gt;&lt;script&gt;
&lt;script src="casual.js"&gt;&lt;script&gt;
</pre>
<p>
After closing the header, the next section is the document body. Add a call to the <b>run()</b> function to run Curveship when the file is loaded. Inside the HTML body, add a div named "narrative" where Curveship will generate the discourse. End the file by closing the body and html tags so that it is a valid HTML file. Save the HTML file.
</p>
<pre>
&lt;body onload="run()"&gt;
&lt;div id="narrative"&gt;&lt;/div&gt;
</pre>
<p>To view this output, open the HTML file in a web browser.  Explore the HTML files in the <a href="../examples">examples</a> directory for some sample narratives.</p>

<div class="homeward" style="text-align:center">
<a href="../index.html">Curveship-js</a>
</div>

</div>
</body>
</html>
